---
title: "Visualization"
subtitle: "Intermediate level R heatmap and graph compostion"
author: "Amaury & Vincent"
footer: "[Home](../index.qmd)"
logo: "../img/logos/phi.svg"
format: 
  revealjs:
    theme: ../slides.scss
    transition: none
    slide-number: true
    center-title-slide: true

execute:
  freeze: auto
---

```{r}
#| include: false

# figure options
knitr::opts_chunk$set(
  fig.width = 10, fig.asp = 0.618,
  fig.retina = 3, dpi = 300, fig.align = "center"
)
```

## Day 2 Visualization

### Aim of the day:
<font color="red"> <b> Provisional list </b> </font>
- **Assess** the quality of a scientific plot.  
- **Copy and improve** a graph using `ggplot2`.   
- **Gather** plots using `patchwork`.   
- **make** some (Complex)Heatmaps.   
- **annotate** with statistics (`ggpubr`).   
- **automate** the graphic generation.   

<!--
================================================================================================
================================================================================================
================================================================================================
-->

## Outline
1. graphics: The good, the bad and the ugly
2. Personalize
3. One graphic to gather them all
4. Adding statistics and automate graphs




# graphics: Good and bad practices {.center}
- A good source we used here:
![](../img/02_visualization/4.10simpleRules.png)

<!--
- published graphics assessment  
- Visualisation good practices  
- Pratice : "clean" a graph 
-->
 

## What and why ?
A scientific visualization is a graphical interface between **people** and **data**.  
- There are **many** possible graphics for the **same** data.  
- Different **people** perceive theses graphics differently.  
<br />
An advanced graph :  
- Conveys **complex** information **clearly**  
- Integrates multiple layers of **information**  
- Is **reproducible** and **adaptable** by code  
- Is **aesthetically** pleasing and follows conventions  

## The 10 rules of good graphs
:::::::::::::::::: {.r-fit-text}

:::::: {.columns }
::: {.column style="width='50%'; line-height=2em"}
*Rule 1:* **Know** your audience. (collaborators, journal readers ...).  
*Rule 2:* **Identify** the role of the figure (&rArr; geometry).  
*Rule 3:* **Adapt** to the medium (paper, poster, projection screen ...).  
*Rule 4:* **Captions** are not optional.  
*Rule 5:* **never** trust the **defaults** (size, font, colors ...): good enough for any, best for none.  
:::
:::{.column  width="50%"}
*Rule 6:* Use **color** effectively & only when needed.  
*Rule 7:* Do Not **Mislead** the Reader (see examples below).  
- As a rule of thumb, use the simplest type of plots   
*Rule 8:* Avoid "[Chartjunk](https://www.junkcharts.com/about/)" (see examples below).  
<!-- any decorations that do not tell the viewer something new must be banned --> 
<!-- Stephen Few : graphs should ideally ‘‘represent all the data that is needed to see and understand what’s meaningful.’’ --> 
*Rule 9:* **Message** trumps beauty.  
*Rule 10:* Get the right **tool** (here `R` + `tidyverse` + `ggplot`)

:::
::::::


Additionally:   
- seek external opinion.  
- ensure reproducibility with your code.   
- know the domain's best practices.  

:::::::::::::::::: 

## Common [pitfalls](https://www.data-to-viz.com/caveats.html).
- A good source of reflexions on graphical representation is:
![](../img/02_visualization/5.data-to-viz-caveats.png)

## Common pitfalls 1/5
:::::: {.columns }
::: {.column style="width='50%'"}
![](../img/02_visualization/6.a.heatmap_pb.png)
:::  
::: {.column style="width='50%'"}
![](../img/02_visualization/6.b.heatmap_ok.png)
:::
::::::
- **Inaccessible colors** (here for color blind people)


## Common pitfalls 2/5
![](../img/02_visualization/chartJunk.png)  

- **Chart junk**.  

## Common pitfalls 3/5
![](../img/02_visualization/misleadingaxes.png){  height=500 }   

- **Misleading axes**.  

## Common pitfalls 4/5
![](../img/02_visualization/pie_charts.png){ width="840" height=200 margin=0} 

## Common pitfalls 5/5
![](../img/02_visualization/pie_charts.png){ width="840" height=200 margin=0} 
![](../img/02_visualization/pie_charts_correct.png){ width="840" height=200  margin=0}

- **Wrong geometry** (for what you show)

# make the graphs
## reminder on how to make the graphs
## load relevant libraries


