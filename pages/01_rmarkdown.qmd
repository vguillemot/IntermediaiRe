---
title: "Reproducible Reports with R Markdown"
author: "Amaury & Vincent"
footer: "[Home](../index.qmd)"
logo: "../img/logos/phi.svg"
format: 
  revealjs:
    theme: ../slides.scss
    transition: none
    slide-number: true
execute:
  freeze: auto
---

```{r}
#| include: false

# figure options
knitr::opts_chunk$set(
  fig.width = 10, fig.asp = 0.618,
  fig.retina = 3, dpi = 300, fig.align = "center"
)
```

# Cheat-sheet


## Recto

![](../img/01_rmarkdown/rmarkdown-recto.png)


## Verso

![](../img/01_rmarkdown/rmarkdown-verso.png)

# Essentials

YAML, Markdown and chunks

## YAML

```
---
title: "Document title"
author: "Lewis Forwarder"
output: html_document
---
```

 * Starts with `---`, ends with `---`
 * Intuitive syntax $\rightarrow$ `field: value`
 * Outputs: HTML, docx, pptx, (pdf)


## Markdown

Intuitive language to write, in plain text, a document that is transformed into a report (in Rstudio, go to submenu "Help > Markdown Quick Reference" for a quick tour).

:::::: {.columns}

Emphasis

::: {.column width="30%"}
```
*italic*   **bold**
_italic_   __bold__
```

Headers

```
# Header 1
## Header 2
### Header 3
```
:::

:::{.column  width="30%"}

Unordered List

```
* Item 1
* Item 2
    + Item 2a
    + Item 2b
```
:::

:::{.column  width="30%"}

Ordered List

```
1. Item 1
2. Item 2
3. Item 3
    + Item 3a
    + Item 3b
```
:::

::::::

And so much more!

## R Chunks

:::::: {.columns}

Your code goes in **"R chunks"**.

:::{.column  width="50%"}


```{r chunk title, echo = TRUE}
#| echo: fenced

hist(rnorm(100))
```

Rstudio shortcut!

:::

:::{.column  width="50%"}

  * Beginners: ⚙️,
  * Intermediate users: [go here](https://rmarkdown.rstudio.com/lesson-3.html),
  * Advanced users: [Yi Hui's website](https://yihui.org/knitr/options/).

:::

::::::

## Other features

 * PDF: $\LaTeX$
 * Maths: $\LaTeX$
 * Customized HTML documents: CSS (ou SCSS)
 * Diagrams: mermaid or GraphViz
 * Other high-level programming languages: Python, Julia, SQL
 * Other: bash, Rcpp (C++), Stan (Bayesian statistics), etc.

# YAML

## Most useful fields

  * `title`: title of the document
  * `author`: your name
  * `output`: 
    + `html_document` $\rightarrow$ is the easiest to use
    + `word_document` $\rightarrow$ is very convenient
    + `pdf_document` $\rightarrow$ requires $\LaTeX$ 

## In Rstudio

:::::: {.columns}


::: {.column .small width="45%"}

File > New File > R Markdown...

 * create a document,
 * change the default values, 
 * change 
    + headers, 
    + text, 
    + R code, 
 * save document as an Rmd file.
 * Click on "Knit"

:::

::: {.column width="5%"}

:::

::: {.column width="45%"}

![](../img/01_rmarkdown/rstudio_window.png)

:::

::::::

## Exercise 1: header alone

Create an R Markdown document that will create the following html output.

![](../img/01_rmarkdown/exo1.png)

# Markdown

## Example

:::::: {.columns}

::: {.column width= "45%"}

```
Twinkle **twinkle** ~little~ _star_

$$y = \frac{1}{\sqrt{2\pi}} e^{x^2}$$

 * One item
 * Two items
```

:::


::: {.column width= "5%"}

:::

::: {.column width= "45%"}

Twinkle **twinkle** ~little~ _star_

$$y = \frac{1}{2\pi} e^{x^2}$$

 * One item
 * Two items
:::

::::::

## In Rstudio


:::::: {.columns}

::: {.column width="30%"}

Useful ressources:

  * Markdown Quick Reference Guide ($\rightarrow$)
  * Cheatsheet
  * [Markdown Guide](https://www.markdownguide.org/)


:::

::: {.column width="5%"}

:::

::: {.column width="30%"}

![](../img/01_rmarkdown/rstudio_menu_quick_guide.png)

:::


::::::


## Exercise 2: only text

Create an R Markdown document that will create the following html output.

![](../img/01_rmarkdown/exo2.png)

# R Chunks

## My advice

 * create your chunk by clicking on the "+c" button
 * customize its options by clicking on the wheel
 * write your R script (execute often)
 * knit often

## Exercise 3: only R


:::::: {.columns}

::: {.column width="45%"}
Create an R Markdown document that will create this ($\rightarrow$) output.
:::

::: {.column width="5%"}

:::

::: {.column width="45%"}

![](../img/01_rmarkdown/exo3.png)

:::

::::::

# Conclusion
